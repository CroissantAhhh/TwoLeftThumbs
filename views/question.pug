
extends layout.pug

block content
    .questionPage_container
    .questionPage_left
        P Left
    .questionPage_middle
        .questionTitle_container
            h2 #{question.title}
        .questionBody_container
            .questionVote_container
                .question_upVote(data-id=`${question.id}`)
                    i(class="fa fa-caret-up")
                div #{questionVoteCount}
                .question_downVote(data-id=`${question.id}`)
                    i(class="fa fa-caret-down")
            .questionBody_text #{question.body}
                div.question_options
                    .question_edit(data-id=`${question.id}`) Edit
                    .question_delete(data-id=`${question.id}`) Delete
        if locals.user.id === question.userId
        each answer in answerVoteCount
            .answerBody_container
                .answerVote_container
                    .answer_upVote(data-id=`${answer[0].id}`)
                        i(class="fa fa-caret-up")
                    div #{answer[1]}
                    .answer_downVote(data-id=`${answer[0].id}`)
                        i(class="fa fa-caret-down")
                .answerBody_text #{answer[0].body}
            if locals.user.id === answer[0].userId
                    div.question_options
                        .answer_edit(data-id=`${answer[0].id}`) Edit
                        .answer_delete(data-id=`${answer[0].id}`) Delete

        form.add_answer(action=`/answers` method='post')
            input(type='hidden' name='_csrf', value=csrfToken)
            label(for="body")= "Your Answer"
            textarea(id="body" name="body")
            input(type='hidden' name='questionId', value=question.id)
            div(class='py-4')
            button(type='submit' class='addAnswer_btn') Add Answer
    .questionPage_right
        p Right
    script(src="/javascripts/question.js")
    link(rel='stylesheet' href='/stylesheets/question.css')
